<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PENGURUSAN RMT SKIOR 2026</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; }
        .canvas-header { background-color: #002d5b !important; border-bottom: 5px solid #ff7a00 !important; }
        .student-card { transition: all 0.2s ease; cursor: pointer; }
        .student-card:active { transform: scale(0.97); }
        @media print { .no-print { display: none !important; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
const firebaseConfig = {
  apiKey: "AIzaSyBqP2wFKLKUycJg4w8fS5bjxFMlwR8HfRk",
  authDomain: "rmt-digital.firebaseapp.com",
  projectId: "rmt-digital",
  storageBucket: "rmt-digital.firebasestorage.app",
  messagingSenderId: "372377735946",
  appId: "1:372377735946:web:469f342850f37fff5aa0f3"
};

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const App = () => {
            const [view, setView] = useState('attendance');
            const [activeClass, setActiveClass] = useState('PPKI');
            const [presentToday, setPresentToday] = useState([]);
            const [monthlyStats, setMonthlyStats] = useState({});
            const [searchTerm, setSearchTerm] = useState('');
            
            // Perbaiki bug: definisikan selectedDate sebagai state
            const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
            
            const currentMonthKey = selectedDate.substring(0, 7);
            const [selectedMonth, setSelectedMonth] = useState(currentMonthKey);

            const monthOptions = useMemo(() => {
                const options = [];
                const now = new Date();
                for (let i = 0; i < 12; i++) {
                    const d = new Date(now.getFullYear(), now.getMonth() - i, 1);
                    const val = d.toISOString().substring(0, 7);
                    const label = d.toLocaleDateString('ms-MY', { month: 'long', year: 'numeric' });
                    options.push({ val, label });
                }
                return options;
            }, []);

            const classes = ['PPKI', '1 AFQ', '1 AFT', '1 ANR', '1 ARR', '2 AFQ', '2 AFT', '2 ANR', '2 ARR', '3 AFQ', '3 AFT', '3 ANR', '3 ARR', '4 AFQ', '4 AFT', '4 ANR', '4 ARR', '5 AFQ', '5 AFT', '5 ANR', '5 ARR', '6 AFQ', '6 AFT', '6 ANR', '6 ARR'];
            const rawStudents = [
Â  Â  Â  Â  Â  Â  Â  Â  // DATA PPKI
Â  Â  Â  Â  Â  Â  Â  Â  { name: "KHADEEJA AFEEYA BINTI ISMAIL", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR FARISH BIN MOHD EMRY", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "WAN SHAFIY BENJAMIN BIN WAN MOHD HAFIZULLAH", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD ZIYAD AMZAR BIN ZAMRI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE NOR ASHIF BIN CHE MAT SOKRI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ISKANDAR ZAMAKHSHARY BIN ISKANDAR ZULKARNAIN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ADAM TAUFIQILLAH BIN MOHD FAIZAL", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQEEL NAUFAL BIN MOHD AZELAN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FIRAS DANISH BIN ABDUL HALIM", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD IFFAT NAFIS BIN MOHD IKHWAN NAIM", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ADZRAA QAIREENA BINTI AHMAD ZAKRI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "UFAIRA NUR AFIFA BINTI MOHD HAFIZAN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ARWA BINTI ABDUL WAHAB", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD RAZIQ BIN SOBRI SALAEH", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQIL ZIQRI BIN JUNAIDI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ASMA IMANI BINTI ABDULLAH", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR HAZIRAHUDA BINTI GHAZALI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR IMAN BINTI AHMAD ZAMURI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ADNIN AMIRAH IRDINA BINTI ZAMRI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD MUIZZUDDIN QAWIEM BIN AHMAD MUSABAQAH", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AQIL HAZIQ BIN AMIR IBRAHIM", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD IZZ IRFAN BIN KAMARUL ARIFIN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD RIZQIE DARWISH BIN ABDUL RAHMAN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR BIN KOSSIM", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQIF IMAN BIN MOHD", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQIFF HAIKAL BIN SIDI AHMAD", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FIRASH AKRAM BIN AZHAR", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD MIKAIL DANISH BIN ABDUL HALIM", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD MIKAIL ISRAFIL BIN OSMAN", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AFIFAH ZAHIDAH BINTI ZAILANI", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR QAIREEN QAISARA BINTI MUHAMMAD", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "PUTRA RAYYAN MIKAIL BIN NOR RAJU", class: "PPKI" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "RIZQI ASHRAF BIN IZMEER", class: "PPKI" },

Â  Â  Â  Â  Â  Â  Â  Â  // DATA TAHUN 6
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ARFA NADRAH BINTI MOHD DASUKI", class: "6 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "WAN NUR IRDINA ZULAIKHA BINTI MOHD HAIKAL", class: "6 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AR RAYYAN FAWWAZ BIN AIDIL PUTRA", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE WAN NUR AINA ZAFIRAH BINTI CHE WAN ZULKIFLI", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR BIN AHMAD JAMARI", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR DAYANA TIHANIE BINTI AHMAD", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR DINI ZAHRAA BINTI HANAFFI", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYARAH IZZATI BINTI MOHD FADZLI", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NURIN QASRINA BINTI ZULFAHMI", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SYAFIYAH BASHIRAH BINTI AHMAD NIZAM", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "THAQIF NASRULLAH BIN ZAKARIA", class: "6 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "FATIN NOR HAYATI BINTI OTHMAN", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR RIZQI BIN MOHD NASRULLAH", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FAJAR BIN MOHD ZAINAL", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NOR HAQIF BIN MOHD NOOR", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AINA BINTI MAZLAN", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ASSYIFA' FATIHAH BINTI AB KARIM", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ROSE AIN AQILLA BINTI ALANG ISKANDAR", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ROSE QIERANA MUSTIQA BINTI NOR AZMI", class: "6 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ARIANA DAMIA BINTI IMRAN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ASHRAFF MUSTAQIM BIN AFENDI", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE KU IBRAHIM BIN CHEKU SULAIMAN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMSYAR ZAHIN BIN MOHD ZULADERA", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ARASH MURSYI BIN MOHD YASSIN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ARASH MUZKYI BIN MOHD YASSIN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NAZHAN DANISH BIN MOHD NIZRUL IDLAN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NUR NAZMIRULLAH BIN MOHD RAFFI", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD QAADIRAN NASRULLAH BIN KAMARULZAMAN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD QAUSAR FIQRI BIN MOHAMAD", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIERIS ILYANA BINTI NORAZMAN", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIMY SAFIYYA BINTI AHMAD FAIZAL", class: "6 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR NAJWA AMNA BINTI RASID", class: "6 ARR" },

Â  Â  Â  Â  Â  Â  Â  Â  // DATA TAHUN 5
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ALIF KAMIL BIN MOKTAR", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD IMAN AQIL BIN ABDUL RAHMAN", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIN NURUL SHAHADAH BINTI JAFFAR", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AMEERA SYAKIRA BINTI ISMAIL", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR QAYLA FAKHIRA BINTI ZAKARIA", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYAFIQAH BINTI SHAMSUL", class: "5 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE WAN MUAMMAR MUHAIMIN BIN CHE WAN SUFLI RATMAN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD HARAZZ HAKEEM BIN MOHD SALUSI", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AFZA IMANINA BINTI CHE KAMARUDIN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ALISSA BALQIS BINTI MOHD SHAHFULRIZAN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR DELISHA QAIRA BINTI ABD RAHMAN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR FATHIAH BINTI MUHAMAD FAIZAL", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYAZA HUMAIRA BINTI SULAIMAN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "PUTERI NURAISYA RANIA BINTI MOHD AZELAN", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SITI NURNADHIRA BINTI MOHD NURHADI @ MUHAMMAD NAQIB", class: "5 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD ZACKHERY BIN MOKHZANI MIZAN", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD AQIL LUTHFY BIN MUHAMAD HAFIZ", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQMAR AIMAN BIN MOHD.RADUAN", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FAWWAZ AMSYAR BIN MOHD YATIM", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD SYAHMI BIN MOHD ZAILANI", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ZIKRY BIN MOHD JOHARI", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AFINA UMAIRA BINTI AMIRULLAH", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIFA IRMANINA BINTI NORAZMAN", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR EMYZA WIDYANA BINTI ABDULLAH", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NURJANNAH AFRINA BINTI NORFAIZA", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NURUL ADYRA AZZAHRA BINTI MOHD HISYAM", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SYAZRIL BIN SAIFULLAH", class: "5 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD PUTRA FAIZ BIN AHMAD FAIZAL", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ANNUR PUTRI AQILAH BINTI AHMAD ZAKI", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MOHAMAD LUTFI HAKIM BIN MOHD AZUAN", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD AMMAR ASHWAD BIN SUHAIMI", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD IRFAN MURSIDI BIN BAHARUDIN", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD RAMDAN RIZQI BIN HASRORIZAL", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD LUTFI FAKHRULLAH BIN MUHAMAD ALHAFIS", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD SYAH MUIZZ BIN IDRIS", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NIK NUR HUMAIRA BINTI NIK AZLAN", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AISYA UMAIRAH BINTI ABDUL HAFIZ", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR FAZLIATUL AQIRRA BINTI YACCUB", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR HUSNA HUMAYRAA BINTI MOHD NASRI", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ZULAIKHA SYAHIRAH BINTI ZAHARI", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NURIN DAMIA ALISYA BINTI MOHD IDZUAN", class: "5 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "TUAN NABIL NAJMIL BIN TUAN KAMARUL AZIZAN", class: "5 ARR" },

Â  Â  Â  Â  Â  Â  Â  Â  // DATA TAHUN 4
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE NUR AINA NADHIRA BINTI CHE SAUFI", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "HASNA QHAIRIYAH BINTI MOHAMAD RAHIMI", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FIRAS NAUFAL BIN ROSLI", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NAQIB SYAWAL HAFIY BIN MOHD KHAIRUDIN", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD WAFIY ADHA BIN MAWARDI", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NAZIRAH AFINA ZAHIRA BINTI ABDUL AZIZ", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AWATIF IRDINA BINTI ABDUL MANAF", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR RANIA ALISHA BINTI ABD RANI", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYASYA ARIANA BINTI SHAHRUL RIDHZUAN", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "TUAN IRENE ARDINI BINTI TUAN AFIF", class: "4 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AISH QUSYAIRI BIN AZIAN", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "DHIA NURAISYAH SAFIYYA BINTI MOHD FAIZOL", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ADAM IQRAM BIN AHMAD AL-HAFIZ", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD IMAAN A'IZUDDIN BIN MOHD NASRULLAH", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD SHAHRUL NIDZMAN BIN BADROL HISHAM", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ALESHA QAISARA BINTI MOHD ZULADERA", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ARISSA SUMMAYAH BINTI MOHD SAFUWAN FATIHI", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR DELISHA ADELIA BINTI MOHAMAD EZRI", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR FASHA HUMAYRAA BINTI MOHD ZAINAL", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYAFIA BINTI AHMAD FAIZA", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "PUTRI LARA ELYSHA BINTI MOHD SHARIFF", class: "4 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE MUHAMMAD IZZAT HARIS BIN CHE SAUFI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MAISARAH BINTI FAUZI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MOHAMAD ALIF AR'SYAD BIN MOHD AZLAN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AL AMIN FIKRI BIN MOHD ASKOZI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR HARIZ BIN MOHD FAIZ", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FAKRUL RAZI BIN MOHD ABI RAFDI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NUR FAKRULLAH BIN MOHD RAFFI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD SHAUQI ILLIAS BIN MOHD SALMAN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD YUSOF NAUFAL BIN MOHD ANUAR", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NOR AUNI ADELIA BINTI AZLI", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR A'ISYAH BINTI MOHAMAD BUDIN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AMANI FARHA BINTI MUHAMMAD HASSAN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AMEERAH RAYHANAH BINTI AMIR HAMZAH", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR NAJLA HUMAIRA BINTI LAILATU AKMAL", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SAFIYA ALISYA BINTI BIDIN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR SYAZA HANNANI BINTI SULAIMAN", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SYAKIRA BATRISYA BINTI AHMAD NIZAM", class: "4 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "WAN NUR SYARIFAH NAJIHAH BINTI WAN SHAIRUL SUHAIMIN", class: "4 ANR" },

Â  Â  Â  Â  Â  Â  Â  Â  // DATA TAHUN 3
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AULIA IZZATUNNISA BINTI AHMAD HADYAN", class: "3 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE WAN NUR HAZWANA BINTI CHE WAN OSMAN", class: "3 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AMMAR BIN AHMAD FAIZA", class: "3 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ZIYAD ZAKWAN BIN ZAMRI", class: "3 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "WAN MUHAMMAD AMMAR BIN WAN MOHD HAIKAL", class: "3 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "IZZ HADIF BIN AFFANDI", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD 'AKIF KHALISH BIN MUHAMAD ZAHIRUDDIN", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ABID RAZIN BIN ROSMAN", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQASHAF BIN MOHD SAKHA", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ASFA SYAFIQ BIN SHAMSUL", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD KHALISH ZAFRAN BIN MOHD AMIRUL", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NAZHAN HADIF BIN ZAKARIA", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NOR FATIHAH BINTI SUKRI", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "TUAN IRENE AMMARA BINTI TUAN AFIF", class: "3 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AZ ZAHRA ABISHA BINTI AIDIL PUTRA VIJAYARAGAVAN SELVARAJ", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "IFFAT NUR JANNAH BINTI MOKHZANI MIZAN", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD RAYHAN AKIF BIN MOHD SAIFULIZAN", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MOHAMMAD RAYYAN IMAN BIN ABDUL HAFIZ", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ZAYYAN ABQARI BIN MOHAMAD", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIRIS SYAKEELA BINTI AHMAD FAIZAL", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ALEEYA ZAHRA BINTI MOHD SHAHIFULRIZAN", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR JANNATUL SAFIYA BINTI NORFAIZA", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SITI MARYAM BINTI MOHD SULAIMAN", class: "3 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD ADHAM ARIF BIN AHMAD KHARULDIN", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AISYAH HUMAIRAH BINTI SAIFULLAH", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD HARITH HAKIM BIN ISMAIL", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMAD IKHWAN ADHA BIN BAHARUDIN", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ADAM RAFFI BIN ZAINURDDIN", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ADIB NAUFAL BIN MOHD DASUKI", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD DZAKWAN ANAQI BIN AHMAD", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FARISH IZZUDDIN BIN MOHD ZAINAL", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD IRFAN HAQIMI BIN MUHAIDI", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD LUTH FIRDAUS BIN ABDULLAH", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AAIRA ARISSA BINTI AMIRULLAH", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIRA ASSYIFA BINTI MUSTAFFA KAMAL", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "RANIATU JANNA BINTI SAKERI", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ROSE ELENA EMMALIYN BINTI ALANG ISKANDAR", class: "3 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "WAN NUR AYRA IMANI BINTI WAN MOHD ARIF AFDAH", class: "3 ARR" },

Â  Â  Â  Â  Â  Â  Â  Â  // DATA TAHUN 2
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AARIZ ZAKIR BIN FAIZOL", class: "2 AFT" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQIL BIN MOHD FAIZOL", class: "2 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FAKHRUL HAKIMI BIN MUHAMAD FAIZAL", class: "2 AFQ" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AQEEL ARSYAD BIN ABD RAHMAN", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "CHE WAN NUR NAIRA FATIHAH BINTI CHE WAN SUFLI RATMAN", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "DAMIANA SOFIA BINTI ZAKARIA", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "DHIA KHADEEJA BINTI HANAFFI", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "LUTH QAMAR BIN AHMAD KHAIRUL", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AIDIL SYAWALUDIN BIN CHE", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AIRELL TESA BIN MOHD IZWAN", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD AQIL ANAQI BIN ABDUL JABAR", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD DANISH HAFIZI BIN MOHD IDZUAN", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD FAHIM NASRUDDIN BIN MUHAMAD FAIS", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD HAKIM BIN ABDUL HADI", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD HARIS BIN HARDY NURHADI @ MUHAMMAD NAQIB", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AIRIS NAFEESA BINTI MOHD YASSIN", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR FATIHAH NABILA BINTI MUHAMAD FAIS", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR QAISARA IMANI BINTI AMIRYUSOF SHUKRI", class: "2 ANR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AHMAD ZUFIQA BIN SUHAMESI @ SUHAMIZI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "AQEEB RAYYAN BIN NOOR AFSYAM RIZZUAN", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ADWA FAYYAD BIN AFIF FARHAN", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD ASHRAF HUZAIRI BIN ABDULLAH", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD HAFIZ AR RAYYAN BIN MUHAMMAD HASSAN", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NOR HARRAZ BIN MOHD NOOR", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD NUR AIDIL ZIKRY BIN MOHD RAFFI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD WARITH ADAM BIN MOHD HISYAM", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "MUHAMMAD WAZIF ASYRAF BIN MAWARDI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR AMMARA AYUNI BINTI SUHAIMI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ASYA AR'MINA BINTI MOHD AZLAN", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR ATIRA HUMAIRA BINTI MOHD RASHIMAN", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR DINARA YUSRINA BINTI MOHAMAD EZRI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "NUR MUHAMMAD HANNAN BIN MOHD HELMI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "ROSE SYAWATUL UQIRA BINTI NOR AZMI", class: "2 ARR" },
Â  Â  Â  Â  Â  Â  Â  Â  { name: "SU'MARHAINI PUTRI BINTI ALANG ISKANDAR", class: "2 ARR" }
Â  Â  Â  Â  Â  Â  ];
            
            const studentsWithIds = useMemo(() => 
                rawStudents.map(s => ({ 
                    ...s, 
                    id: s.name.trim().replace(/\s+/g, '_').toLowerCase() 
                }))
            , []);

            const globalStats = useMemo(() => {
                const total = studentsWithIds.length;
                const present = presentToday.length;
                const percent = total > 0 ? ((present / total) * 100).toFixed(1) : 0;
                return { total, present, percent };
            }, [presentToday, studentsWithIds]);

            useEffect(() => {
                const unsub = db.collection('daily_attendance').doc(selectedDate)
                    .onSnapshot(doc => {
                        setPresentToday(doc.exists ? (doc.data().students || []) : []);
                    });
                return () => unsub();
            }, [selectedDate]);

            useEffect(() => {
                if (view === 'summary') {
                    const unsub = db.collection('daily_attendance')
                        .where(firebase.firestore.FieldPath.documentId(), '>=', `${selectedMonth}-01`)
                        .where(firebase.firestore.FieldPath.documentId(), '<=', `${selectedMonth}-31`)
                        .onSnapshot(snapshot => {
                            const counts = {};
                            snapshot.forEach(doc => {
                                (doc.data().students || []).forEach(id => {
                                    counts[id] = (counts[id] || 0) + 1;
                                });
                            });
                            setMonthlyStats(counts);
                        });
                    return () => unsub();
                }
            }, [view, selectedMonth]);

            const toggleAttendance = async (studentId) => {
                const docRef = db.collection('daily_attendance').doc(selectedDate);
                const isPresent = presentToday.includes(studentId);
                await docRef.set({
                    students: isPresent 
                        ? firebase.firestore.FieldValue.arrayRemove(studentId)
                        : firebase.firestore.FieldValue.arrayUnion(studentId),
                    lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),
                    date: selectedDate
                }, { merge: true });
            };

            const exportToCSV = () => {
                const headers = ["Bil", "Nama Murid", "Kelas", `Hadir (${selectedMonth})`];
                const rows = filteredStudents.map((s, idx) => [idx + 1, s.name, s.class, monthlyStats[s.id] || 0]);
                const csvContent = [headers, ...rows].map(e => e.join(",")).join("\n");
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = `Laporan_RMT_${activeClass}_${selectedMonth}.csv`;
                link.click();
            };

            const handleResetAttendance = async () => {
                if (window.confirm("Pasti reset ke 0?")) {
                    await db.collection('daily_attendance').doc(selectedDate).set({
                        students: [],
                        lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),
                        date: selectedDate
                    });
                }
            };

            const filteredStudents = useMemo(() => {
                return studentsWithIds.filter(s => 
                    s.class.trim() === activeClass && 
                    s.name.toLowerCase().includes(searchTerm.toLowerCase())
                );
            }, [activeClass, studentsWithIds, searchTerm]);

            return (
                <div className="min-h-screen pb-20">
                    
                    {/* HEADER UTAMA DENGAN NAVIGASI */}
                    <header className="canvas-header text-white px-5 pt-6 pb-4 shadow-xl no-print sticky top-0 z-50">
                        <div className="max-w-6xl mx-auto">
                            <div className="flex flex-wrap justify-between items-center gap-4 mb-4">
                                <div className="flex items-center gap-3">
                                    <div className="bg-white p-2 rounded-xl text-xl shadow-inner shadow-black/20">ðŸ¥£</div>
                                    <div>
                                        <h1 className="text-lg font-black uppercase leading-none tracking-tight">RMT SKIOR</h1>
                                        <div className="mt-1 flex items-center gap-2">
                                            <input 
                                                type="date" 
                                                value={selectedDate} 
                                                onChange={(e) => setSelectedDate(e.target.value)}
                                                className="bg-orange-500 text-white text-[10px] font-black px-2 py-1 rounded border-none outline-none cursor-pointer"
                                            />
                                            <span className="bg-white/10 text-[8px] font-bold px-1.5 py-1 rounded text-white/80 uppercase">
                                                {new Date(selectedDate).toLocaleDateString('ms-MY', { weekday: 'long' })}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex flex-wrap items-center gap-3">
                                    <div className="bg-white/10 px-4 py-2 rounded-xl border border-white/10 text-center min-w-[70px]">
                                        <p className="text-[8px] font-bold uppercase opacity-60 mb-1">Hadir</p>
                                        <p className="text-lg font-black text-orange-400 leading-none">{globalStats.present}/{globalStats.total}</p>
                                    </div>
                                    <div className="bg-white/10 px-4 py-2 rounded-xl border border-white/10 text-center min-w-[70px]">
                                        <p className="text-[8px] font-bold uppercase opacity-60 mb-1">Peratus</p>
                                        <p className="text-lg font-black text-green-400 leading-none">{globalStats.percent}%</p>
                                    </div>
                                    <a href="https://appsjohor.moe.gov.my/rmt/" target="_blank" className="bg-orange-500 hover:bg-orange-600 px-3 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-lg border-b-4 border-orange-700 active:border-b-0 active:translate-y-1">Portal RMT MOE</a>
                                </div>
                            </div>

                            {/* NAVIGASI PINDAH KE SINI (DI BAWAH HEADER) */}
                            <div className="flex bg-black/20 p-1 rounded-xl max-w-md mx-auto shadow-inner border border-white/5">
                                <button onClick={() => setView('attendance')} className={`flex-1 py-2.5 rounded-lg font-black text-[11px] transition-all ${view==='attendance'?'bg-white text-[#002d5b] shadow-md':'text-white/60 hover:text-white'}`}>TANDA HADIR</button>
                                <button onClick={() => setView('summary')} className={`flex-1 py-2.5 rounded-lg font-black text-[11px] transition-all ${view==='summary'?'bg-white text-[#002d5b] shadow-md':'text-white/60 hover:text-white'}`}>RUMUSAN & SEJARAH</button>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-6xl mx-auto px-4 mt-6">
                        {/* SEARCH & CLASS SELECTOR */}
                        <div className="no-print mb-6 bg-white p-4 rounded-3xl shadow-sm border border-gray-100">
                            <div className="flex flex-wrap justify-center gap-1.5 mb-4">
                                {classes.map(c => (
                                    <button key={c} onClick={() => setActiveClass(c)} className={`px-3 py-2 rounded-lg text-[9px] font-black border transition-all ${activeClass === c ? 'bg-orange-500 text-white border-orange-500 shadow-md' : 'bg-gray-50 text-gray-400 border-gray-100 hover:bg-gray-100'}`}>{c}</button>
                                ))}
                            </div>
                            <input type="text" placeholder="Cari nama murid..." className="w-full p-4 rounded-2xl bg-gray-50 border-none text-sm font-bold outline-none focus:ring-2 focus:ring-orange-400 transition-all shadow-inner" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                        </div>

                        {view === 'attendance' ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                                {filteredStudents.map((s, idx) => {
                                    const isPresent = presentToday.includes(s.id);
                                    return (
                                        <div key={s.id} onClick={() => toggleAttendance(s.id)} className={`p-4 rounded-2xl border-2 flex items-center justify-between cursor-pointer transition-all student-card ${isPresent ? 'bg-blue-50 border-blue-500 shadow-blue-100' : 'bg-white border-transparent shadow-sm hover:border-gray-200'}`}>
                                            <div className="flex items-center gap-3">
                                                <span className="text-[10px] font-black text-gray-300 w-5">{idx + 1}</span>
                                                <p className={`text-xs font-black uppercase tracking-tight ${isPresent ? 'text-blue-900' : 'text-gray-700'}`}>{s.name}</p>
                                            </div>
                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center transition-all ${isPresent ? 'bg-blue-600 text-white rotate-0' : 'bg-gray-100 text-transparent rotate-90'}`}>âœ“</div>
                                        </div>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="bg-white rounded-3xl p-6 shadow-sm border border-gray-100 overflow-hidden">
                                <div className="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                                    <div>
                                        <h2 className="text-xl font-black text-[#002d5b]">RUMUSAN {activeClass}</h2>
                                        <div className="flex items-center gap-2 mt-2 no-print">
                                            <select value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} className="bg-gray-100 border-none rounded-lg px-3 py-1.5 text-[10px] font-black text-blue-700 outline-none">
                                                {monthOptions.map(opt => <option key={opt.val} value={opt.val}>{opt.label}</option>)}
                                            </select>
                                        </div>
                                    </div>
                                    <div className="flex flex-wrap gap-2 no-print">
                                        <button onClick={handleResetAttendance} className="px-4 py-2 bg-red-100 text-red-600 rounded-xl text-[10px] font-black hover:bg-red-200 transition-all border border-red-200">RESET</button>
                                        <button onClick={exportToCSV} className="px-4 py-2 bg-green-100 text-green-700 rounded-xl text-[10px] font-black hover:bg-green-200 transition-all border border-green-200">CSV/EXCEL</button>
                                        <button onClick={() => window.print()} className="px-4 py-2 bg-gray-800 text-white rounded-xl text-[10px] font-black hover:bg-black transition-all shadow-md">CETAK</button>
                                    </div>
                                </div>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left">
                                        <thead>
                                            <tr className="border-b-2 border-gray-100">
                                                <th className="py-3 px-2 text-[10px] font-black text-gray-400 uppercase">Bil</th>
                                                <th className="py-3 px-2 text-[10px] font-black text-gray-400 uppercase">Nama</th>
                                                <th className="py-3 px-2 text-center text-[10px] font-black text-gray-400 uppercase">Kehadiran</th>
                                                <th className="py-3 px-2 text-right text-[10px] font-black text-gray-400 uppercase">Status {selectedDate}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {filteredStudents.map((s, idx) => {
                                                const count = monthlyStats[s.id] || 0;
                                                const isPresentToday = presentToday.includes(s.id);
                                                return (
                                                    <tr key={s.id} className="border-b border-gray-50 hover:bg-gray-50">
                                                        <td className="py-4 px-2 text-[10px] font-bold text-gray-400">{idx + 1}</td>
                                                        <td className="py-4 px-2 text-xs font-black text-gray-800 uppercase leading-tight">{s.name}</td>
                                                        <td className="py-4 px-2 text-center">
                                                            <span className="bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-[10px] font-black">{count} HARI</span>
                                                        </td>
                                                        <td className="py-4 px-2 text-right">
                                                            {isPresentToday ? 
                                                                <span className="text-green-500 font-black text-[10px]">HADIR</span> : 
                                                                <span className="text-red-300 font-bold text-[10px]">TIADA</span>
                                                            }
                                                        </td>
                                                    </tr>
                                                );
                                            })}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
