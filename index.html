<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PENGURUSAN RMT SKKN</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; margin: 0; }
        .canvas-header { background-color: #002d5b; border-bottom: 5px solid #ff7a00; }
        .stat-card { background: white; border-radius: 24px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); }
        .card-accent-blue { border-left: 6px solid #3b82f6; }
        .card-accent-orange { border-left: 6px solid #ff7a00; }
        .btn-portal { background-color: #ff7a00; transition: all 0.2s; color: white; }
        .btn-portal:hover { background-color: #e66e00; transform: translateY(-2px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .summary-card { background: #002d5b; border-radius: 24px; color: white; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const firebaseConfig = {
            apiKey: "AIzaSyAiwLcVI-EMmP9nRIpA6IXgPICbHyrXwVE",
            authDomain: "rmt-digital-8df83.firebaseapp.com",
            projectId: "rmt-digital-8df83",
            storageBucket: "rmt-digital-8df83.firebasestorage.app",
            messagingSenderId: "161720627010",
            appId: "1:161720627010:web:84b4da0da31ea8ca8ca2db"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const App = () => {
            const [searchTerm, setSearchTerm] = useState('');
            const [activeClass, setActiveClass] = useState('PPKI');
            const [presentToday, setPresentToday] = useState([]);
            const [currentTime, setCurrentTime] = useState(new Date());
            const [view, setView] = useState('attendance'); 

            useEffect(() => {
                const timer = setInterval(() => setCurrentTime(new Date()), 1000);
                const today = new Date().toISOString().split('T')[0];
                const unsub = db.collection('daily_attendance').doc(today)
                    .onSnapshot(doc => {
                        if (doc.exists) setPresentToday(doc.data().students || []);
                        else setPresentToday([]);
                    });
                return () => { clearInterval(timer); unsub(); };
            }, []);

            const students = useMemo(() => [
                { id: 1, name: "KHADEEJA AFEEYA BINTI ISMAIL", class: "PPKI" },
                { id: 2, name: "MUHAMMAD AMMAR FARISH BIN MOHD EMRY", class: "PPKI" },
                { id: 3, name: "WAN SHAFIY BENJAMIN BIN WAN MOHD HAFIZULLAH", class: "PPKI" },
                { id: 4, name: "AHMAD ZIYAD AMZAR BIN ZAMRI", class: "PPKI" },
                { id: 5, name: "CHE NOR ASHIF BIN CHE MAT SOKRI", class: "PPKI" },
                { id: 6, name: "ISKANDAR ZAMAKHSHARY BIN ISKANDAR ZULKARNAIN", class: "PPKI" },
                { id: 7, name: "MUHAMMAD ADAM TAUFIQILLAH BIN MOHD FAIZAL", class: "PPKI" },
                { id: 8, name: "MUHAMMAD AQEEL NAUFAL BIN MOHD AZELAN", class: "PPKI" },
                { id: 9, name: "MUHAMMAD FIRAS DANISH BIN ABDUL HALIM", class: "PPKI" },
                { id: 10, name: "MUHAMMAD IFFAT NAFIS BIN MOHD IKHWAN NAIM", class: "PPKI" },
                { id: 11, name: "NUR ADZRAA QAIREENA BINTI AHMAD ZAKRI", class: "PPKI" },
                { id: 12, name: "UFAIRA NUR AFIFA BINTI MOHD HAFIZAN", class: "PPKI" },
                { id: 13, name: "ARWA BINTI ABDUL WAHAB", class: "PPKI" },
                { id: 14, name: "MUHAMAD RAZIQ BIN SOBRI SALAEH", class: "PPKI" },
                { id: 15, name: "MUHAMMAD AQIL ZIQRI BIN JUNAIDI", class: "PPKI" },
                { id: 16, name: "NUR ASMA IMANI BINTI ABDULLAH", class: "PPKI" },
                { id: 17, name: "NUR HAZIRAHUDA BINTI GHAZALI", class: "PPKI" },
                { id: 18, name: "NUR IMAN BINTI AHMAD ZAMURI", class: "PPKI" },
                { id: 19, name: "ADNIN AMIRAH IRDINA BINTI ZAMRI", class: "PPKI" },
                { id: 20, name: "CHE NUR ARISSA ZAHRA BINTI CHE MAT SOKRI", class: "PPKI" },
                { id: 21, name: "MUHAMMAD ADAM BIN ABDUL JALIL", class: "PPKI" },
                { id: 22, name: "MUHAMMAD AIMAN BIN ABDUL JALIL", class: "PPKI" },
                { id: 23, name: "MUHAMMAD HADIF BIN MAHADZIR", class: "PPKI" },
                { id: 24, name: "NUR FAIHA BINTI ABDULLAH", class: "PPKI" },
                { id: 25, name: "NUR SYAZA ADRIANA BINTI SHAHIRAN", class: "PPKI" },
                { id: 26, name: "AHMAD SYAQIL HAIDAR BIN AHMAD SYAHRIN", class: "1 AFQ" },
                { id: 27, name: "AHMAD SYARIF BIN ASWADI", class: "1 AFQ" },
                { id: 28, name: "AUNI ADLINA BINTI MOHAMMAD ROSIDI", class: "1 AFQ" },
                { id: 29, name: "AUNI BATRISYIA BINTI MOHD ZAKI", class: "1 AFQ" },
                { id: 30, name: "FATIMAH AZ ZAHRA BINTI HASBULLAH", class: "1 AFQ" },
                { id: 31, name: "HAIFFA HANA BINTI MOHD HANIF", class: "1 AFQ" },
                { id: 32, name: "MEDINA BINTI MUHAMMAD NUR ARIF", class: "1 AFQ" },
                { id: 33, name: "MUHAMMAD AFIF HARIZ BIN MOHD AMRAN", class: "1 AFQ" },
                { id: 34, name: "MUHAMMAD AIMAN NAJMI BIN ABDULLAH", class: "1 AFQ" },
                { id: 35, name: "MUHAMMAD AMMAR AZFAR BIN AZIZUL", class: "1 AFQ" },
                { id: 36, name: "MUHAMMAD ARYAN AFDAH BIN HARD ARIF AFDAH", class: "1 AFQ" },
                { id: 37, name: "MUHAMMAD NA'IL DANISH BIN ROSLAN", class: "1 AFQ" },
                { id: 38, name: "NUR FATIHAH BINTI MOHAMMAD ADHA", class: "1 AFQ" },
                { id: 39, name: "NUR HAURA HUMAIRA BINTI ZAINUDIN", class: "1 AFQ" },
                { id: 40, name: "SITI NURJANNAH BINTI SHAFIAI", class: "1 AFQ" },
                { id: 41, name: "WAN MUHAMMAD SYARIFUDDIN BIN WAN MOHD SAUFI", class: "1 AFQ" },
                { id: 42, name: "ZARA ZULAIKHA BINTI MUHAMMAD FARIS", class: "1 AFQ" },
                { id: 43, name: "MOHAMAD ARYAN RIFQI BIN MOHAMAD ROZI", class: "1 AFQ" },
                { id: 44, name: "AHLAMI KHAIRA BINTI MOHD KHAIRI", class: "1 AFQ" },
                { id: 45, name: "AHMAD KHUZAIRI BIN MAHADZIR", class: "1 AFT" },
                { id: 46, name: "AMNI SYIFA' BINTI MUHAMMAD NUR ARIF", class: "1 AFT" },
                { id: 47, name: "MUHAMMAD ARYAN ADHA BIN MAHADI", class: "1 AFT" },
                { id: 48, name: "MUHAMMAD HAIDAR BIN MAHADZIR", class: "1 AFT" },
                { id: 49, name: "MUHAMMAD HARITH BIN HARD ARIF AFDAH", class: "1 AFT" },
                { id: 50, name: "MUHAMMAD HARITH BIN MOHD SHAMSOL", class: "1 AFT" },
                { id: 51, name: "MUHAMMAD HAZIQ HAIKAL BIN CHE MAT SOKRI", class: "1 AFT" },
                { id: 52, name: "NUR AMNA IRDINA BINTI MOHAMAD SHUKUR", class: "1 AFT" },
                { id: 53, name: "NUR AZRA QAISARA BINTI ABDUL HALIM", class: "1 AFT" },
                { id: 54, name: "NUR DHIYA QAISARA BINTI MOHD KHAIDZIR", class: "1 AFT" },
                { id: 55, name: "SITI KHADIJAH BINTI ABDULLAH", class: "1 AFT" },
                { id: 56, name: "WAN NUR QAISARA AMANI BINTI WAN MOHD SHAHRIL", class: "1 AFT" },
                { id: 57, name: "WAN NUR QAISARA BALQIS BINTI WAN ABDUL MANAN", class: "1 AFT" },
                { id: 58, name: "AHMAD ZIYAD FARISH BIN AHMAD FADLY", class: "1 ANR" },
                { id: 59, name: "FATIN FARHANAH BINTI ABDULLAH", class: "1 ANR" },
                { id: 60, name: "MUHAMMAD DANIAL IRFAN BIN ROSLEE", class: "1 ANR" },
                { id: 61, name: "MUHAMMAD SYAQIL ZAFRAN BIN AHMAD SYAHRIN", class: "1 ANR" },
                { id: 62, name: "NUR ALEEYA ADRIANA BINTI SHAHIRAN", class: "1 ANR" },
                { id: 63, name: "NUR FATIN SAFIYYA BINTI MOHAMAD SAFUAN", class: "1 ANR" },
                { id: 64, name: "NUR HUMAIRA SOFEA BINTI MOHAMMAD FAKHRULRAZI", class: "1 ANR" },
                { id: 65, name: "NUR RAUDAH BINTI ASWADI", class: "1 ANR" },
                { id: 66, name: "SITI NUR SAFIYAH BINTI MOHAMAD SHUKRI", class: "1 ANR" },
                { id: 67, name: "ZARA NUR AWATIF BINTI MOHAMAD IZWAN", class: "1 ANR" },
                { id: 68, name: "AHMAD AMMAR DANISH BIN AHMAD FADLY", class: "3 AFQ" },
                { id: 69, name: "MUHAMMAD AMMAR DARWISY BIN MOHAMMAD FARED", class: "3 AFQ" },
                { id: 70, name: "MUHAMMAD ASHRAFF DARWISY BIN MOHD ASYRAF", class: "3 AFQ" },
                { id: 71, name: "MUHAMMAD AZAM FAIDZ BIN MOHAMMAD RIDZWAN", class: "3 AFQ" },
                { id: 72, name: "MUHAMMAD FAIQ RAYYAN BIN MOHD FAIZAL", class: "3 AFQ" },
                { id: 73, name: "MUHAMMAD FIKRI BIN MOHAMAD SHUKRI", class: "3 AFQ" },
                { id: 74, name: "NUR AMNA QALISYA BINTI MOHAMAD SHUKUR", class: "3 AFQ" },
                { id: 75, name: "NUR ASIAH BINTI MOHAMAD KHAIDZIR", class: "3 AFQ" },
                { id: 76, name: "SITI NUR ADIRA BINTI SHAFIAI", class: "3 AFQ" },
                { id: 77, name: "UWAIS ALQARNI BIN ROSLEE", class: "3 AFQ" },
                { id: 78, name: "ALISSA HUMAIRA BINTI ASWADI", class: "3 AFT" },
                { id: 79, name: "MARISA NUR AMNI BINTI MAHD ZAKI", class: "3 AFT" },
                { id: 80, name: "MUHAMMAD AMMAR BIN ASWADI", class: "3 AFT" },
                { id: 81, name: "MUHAMMAD AZAM FAHMI BIN AZIZUL", class: "3 AFT" },
                { id: 82, name: "NUR AMANI ADLINA BINTI MOHAMMAD ADHA", class: "3 AFT" },
                { id: 83, name: "NUR ARISSA AMANI BINTI MOHD HANIF", class: "3 AFT" },
                { id: 84, name: "NUR QASEH BINTI ABDULLAH", class: "3 AFT" },
                { id: 85, name: "PUTRI ANIS SYUHADA BINTI ASWADI", class: "3 AFT" },
                { id: 86, name: "SITI NUR ALYA BINTI ABDULLAH", class: "3 AFT" },
                { id: 87, name: "SITI NUR SOFEA BINTI MOHAMAD SHUKRI", class: "3 AFT" },
                { id: 88, name: "AHMAD DANIAL AZIM BIN AHMAD SYAHRIN", class: "3 ANR" },
                { id: 89, name: "AHMAD WAFIY BIN ASWADI", class: "3 ANR" },
                { id: 90, name: "MUHAMMAD ARYAN AFIF BIN HARD ARIF AFDAH", class: "3 ANR" },
                { id: 91, name: "MUHAMMAD DANISH IRFAN BIN ROSLEE", class: "3 ANR" },
                { id: 92, name: "NUR ALEEYA BALQIS BINTI ZAINUDIN", class: "3 ANR" },
                { id: 93, name: "NUR ALEEYA QAISARA BINTI ZAINUDIN", class: "3 ANR" },
                { id: 94, name: "NUR ALYA ADRIANA BINTI SHAHIRAN", class: "3 ANR" },
                { id: 95, name: "NUR FARAH NABILA BINTI MOHAMAD SAFUAN", class: "3 ANR" },
                { id: 96, name: "NUR HUMAIRA BINTI MOHAMMAD FAKHRULRAZI", class: "3 ANR" },
                { id: 97, name: "NUR RAUDHAH BINTI ASWADI", class: "3 ANR" },
                { id: 98, name: "WAN MUHAMMAD SYARIFUDDIN BIN WAN ABDUL MANAN", class: "3 ANR" },
                { id: 99, name: "AHMAD SYAQIL HAIDAR BIN AHMAD SYAHRIN", class: "3 ARR" },
                { id: 100, name: "MUHAMMAD ARYAN AFDAH BIN HARD ARIF AFDAH", class: "3 ARR" },
                { id: 101, name: "AHMAD ZIYAD AMZAR BIN ZAMRI", class: "3 ARR" },
                { id: 102, name: "AHMAD ZIYAD FARISH BIN AHMAD FADLY", class: "3 ARR" },
                { id: 103, name: "AHLAMI KHAIRA BINTI MOHD KHAIRI", class: "3 ARR" },
                { id: 104, name: "AHMAD KHUZAIRI BIN MAHADZIR", class: "3 ARR" },
                { id: 105, name: "AMNI SYIFA' BINTI MUHAMMAD NUR ARIF", class: "3 ARR" },
                { id: 106, name: "MUHAMMAD ARYAN ADHA BIN MAHADI", class: "3 ARR" },
                { id: 107, name: "MUHAMMAD HAIDAR BIN MAHADZIR", class: "3 ARR" },
                { id: 108, name: "MUHAMMAD HARITH BIN HARD ARIF AFDAH", class: "3 ARR" },
                { id: 109, name: "MUHAMMAD HARITH BIN MOHD SHAMSOL", class: "3 ARR" },
                { id: 110, name: "MUHAMMAD HAZIQ HAIKAL BIN CHE MAT SOKRI", class: "3 ARR" },
                { id: 111, name: "NUR AMNA IRDINA BINTI MOHAMAD SHUKUR", class: "3 ARR" },
                { id: 112, name: "NUR AZRA QAISARA BINTI ABDUL HALIM", class: "3 ARR" },
                { id: 113, name: "NUR DHIYA QAISARA BINTI MOHD KHAIDZIR", class: "3 ARR" },
                { id: 114, name: "SITI KHADIJAH BINTI ABDULLAH", class: "3 ARR" },
                { id: 115, name: "WAN NUR QA
